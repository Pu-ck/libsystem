<p>Change password</p>

<form name="form" (ngSubmit)="changePassword()" #newPasswordForm="ngForm">
    <div>
        <label for="oldPassword">Old password</label>
        <input type="password" name="oldPassword" [(ngModel)]="model.oldPassword" #oldPassword="ngModel" required>
        <div *ngIf="oldPassword?.invalid && (oldPassword?.dirty || oldPassword?.touched)">
            <div *ngIf="oldPassword?.errors?.['required']">Old password is required</div>
        </div>
    </div>
    <div>
        <label for="newPassword">New password</label>
        <input type="password" name="newPassword" [(ngModel)]="model.newPassword" #newPassword="ngModel" required minlength="8" maxlength="25">
        <div *ngIf="newPassword?.invalid && (newPassword?.dirty || newPassword?.touched)">
            <div *ngIf="newPassword?.errors?.['required']">New password is required</div>
            <div *ngIf="newPassword?.errors?.['minlength']">The password must be between 8 and 25 characters long</div>
        </div>
    </div>
    <div>
        <button type="submit" [disabled]="!newPasswordForm.valid">Set new password</button>
        <div *ngIf="passwordDuplicated">New password cannot be the same as old one</div>
        <div *ngIf="oldPasswordNotMatching">The provided old password is not correct</div>
    </div>
</form>

<p *ngIf="newPasswordSet">New password set and saved correctly</p>